skripte/python
==============

Vorwort
=======

Selbstdokumentierende Python-Module, Hilfsdateien und experimentelle Skripte
zur Arbeit mit der Wortliste.

Siehe Abschnitt `Arbeitsfluss`_ für einen Vorschlag zur Anwendung.

Das Program PyLit_ kann die ausführbaren Dateien ``*.py`` reversibel in
Textdokumente ``*.py.txt`` konvertieren. Mit Docutils_ lassen sich aus den
in reStructuredText_ geschriebenen Texten Dokumentationen im HTML- oder
PDF-Format erstellen.

.. _PyLit: http://pylit.berlios.de
.. _reStructuredText: http://docutils.sourceforge.net/rst.html
.. _Docutils: http://docutils.sourceforge.net/rst.html


Unterverzeichnisse
==================

wortteile/
  Verzeichnis für Hilfsdateien (Daten/Text)


Module
======

werkzeug.py
  Python-Module für die Arbeit mit der `Wortliste` 
  Wird von den anderen Python-Skripten importiert.
  
  Aufruf mit ``python werkzeug.py`` startet einen 
  Test der Werkzeuge und der inneren Konsistenz der Wortliste
  (Doppeleinträge, Übereinstimmung Schlüssel-Trennmuster).

Skripte zur Trennstellenkategorisierung
=======================================

Siehe auch den Abschnitt `Arbeitsfluss`_ am Ende dieses Dokumentes.

Achtung experimentell:

* Die Skripte wurden für die eigene Arbeit mit der Wortliste entwickelt und
  erfordern zum Teil Anpassungen im Quelltext, eine gewisse Einarbeitung, 
  Lesen der enthaltenen Dokumentation und gegebenenfalls Rücksprachen mit
  dem Autor.

* Die Skripte können ohne Schaden anzurichten probiert werden, denn sie
  ändern nicht direkt die Wortliste sondern erstellen eine Datei
  ``wortliste.patch``.

* Die Änderungen in dieser Datei können nach Korrekturlesen mittels ::
  
    patch ../../wortliste < wortliste.patch
    
  auf die Wortliste angewendet werden.

analyse.py
  Sammeln und Sortieren von Teilwörtern
  
  Aufruf: ``python analyse.py``
  
          Vorher in Zeile 355 ff. die gewünschte Sprachvariante
          durch ein/auskommentieren wählen.

  Schreibt eine Liste der Teilwörter von in der Wortliste markierten
  zusammengesetzten Wörtern mit den Häufigkeiten des Auftretens
  in eine Datei ``teilwoerter-<Sprachtag>.txt``
  (z.B. ``teilwoerter-de-1901.txt``).

  Auf der Standardausgabe erscheint eine Zusammenfassung zum Stand der
  Präfixauszeichnung.


abgleich_sprachvarianten.py
  Abgleich der Trennstellen zwischen Sprachvarianten
  
  Aufruf: ``python abgleich_sprachvarianten.py``
  
  * Übertragen von kategorisierten Trennstellen zwischen Sprachvarianten
    desselben Wortes, und/oder

  * Zusammenfassen von Feldern mit gleichem Inhalt wenn das Ergebnis ein
    wohlgeformter Eintrag ist.
  

abgleich_teilwoerter.py
  Übertragen von kategorisierten Trennstellen von Teilwörtern auf
  Vorkommen dieser Teilwörter mit unkategorisierten Trennstellen.
  
  Aufruf: ``python abgleich_teilwoerter.py``

          Vorher in Zeile 26 ff. die gewünschte Sprachvariante
          durch ein/auskommentieren wählen.

abgleich_praefixe.py
  Abgleich der Trennstellen zwischen Woertern mit unterschiedlichem Präfix

  Benötigt eine Liste der Teilwörter, die mit ``analyse.py`` erstellt werden
  kann.

prepare_patch.py
  Helfer für kleine Editieraufgaben, u.a. entfernen von Doppeleinträgen.
  Erstellt eine Patch-Datei.
  
  Aufruf: siehe ``./prepare_patch.py -h``

wortfugen.py
  Suche nach "Teilwortkandidaten" in der Wortliste.
  
test_teilwoerter.py
  Test der Markierung von Komposita in der Wortliste
  
vorsilben_in_teilwoertern.py
  Spezialwerkzeug zur Präfixmarkierung.

  Benötigt eine Liste der Teilwörter, die mit ``analyse.py`` erstellt werden
  kann.

Lang-s Schreibung
=================

s2long-s.py
  Automatische Bestimmung der S-Schreibung auf Basis der Silbentrennung
  in der `Wortliste der deutschsprachigen Trennmustermannschaft`.
  
  Gesamtwortzahl (traditionelle Rechtschreibung): 422398
  Automatisch konvertiert: 418440
  Kategorisierung der Trennstellen fehlt: 3903
  noch offen: 55

Arbeitsfluss
============

Trennstellenkategorisierung mit Hilfe der Python-Skripte, 
2-stufiges Vorgehen:

* Erstellen einer Liste mit Teilwörtern (Zerlegung ausgezeichneter Komposita
  an den Wortfugen "="):
  
  - in `analyse.py` die gewünschte Sprachvariante ein-/auskommentieren.
  
  - ``python analyse.py``
  
  Die erstellte Wortliste ist ``teilwoerter-<Sprachtag>.txt``.
  
* Bearbeiten der generierten Datei 

  - im Texteditor (suchen/ersetzen, regexp-replace, ...)
  
  - mit Skripten (``abgleich_praefixe.py``, ``vorsilben_in_teilwoertern.py``)
  
* Rückübertragen der Korrekturen auf die Wortliste

  - in `abgleich_teilwoerter.py` die gewünschte Sprachvariante und
    Bearbeitungsfunktion ein-/aukommentieren.
  
  - ``python abgleich_teilwoerter.py``

  - Prüfen der Kontrollausgabe, ggf. Korrektur von ``wortliste.patch``.
  
  - ``patch ../../wortliste < wortliste.patch``
